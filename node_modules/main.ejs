<!DOCTYPE html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style_main.css">
<script src="chatbox.js"></script>
</head>
<body>

   <h1>   Chatbox With Firebase! </h1>

   <div id="messagebox">
         <ul id="myList">
         </ul>
   </div>

    <div id="name_msg">
           <input type="text" id="username" placeholder="Enter name of video"></input>
           <br><br>
           <textarea id="url" placeholder="Enter url"></textarea>
           <input id= "buttonclick" type="button" value="Insert data" />
    </div>

</body>

  <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase.js"></script>


<script>
// Initialize Firebase

          var config = {
          apiKey: "AIzaSyAhQYL0m5eyb2lv6unqMDHKqe2x6I02G34",
          authDomain: "video-fa7ba.firebaseapp.com",
          databaseURL: "https://video-fa7ba.firebaseio.com",
          projectId: "video-fa7ba",
          storageBucket: "video-fa7ba.appspot.com",
          messagingSenderId: "117315506589"
          };
          firebase.initializeApp(config);



          /*  var database = firebase.database();
            var ref = database.ref('playlist/video_store');


            var data = {
              id : 1,
              name : "sejal_kumar",
              url : "https://youtube.com/sejal_kumar",
              list_video:["sejal","mohak"]
            }

            ref.push(data);*/
  </script>


  <script>
    $(document).ready(function(){
          var c = 0;
          var maintext = document.getElementById('url');
          var uername = document.getElementById('username');
          var firebaseref = firebase.database().ref();
          firebaseref.on('value', gotData , errData);
                                    $("#buttonclick").click(function(){

                                      var messageText = maintext.value;
                                      var user = username.value;

                                              var data = {
                                                name : user,
                                                message  : messageText,
                                                id: c + 1
                                              }
                                      firebaseref.push(data);

                                  });
    function gotData(data){
      console.log(data.val())

    }

    function errData(err){
      console.log("Error!");
      console.log(err);
    }

    });
</script>

</html>
